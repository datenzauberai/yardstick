<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Area under the receiver operator curve — roc_auc • yardstick</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>

<!-- Bootstrap -->
<link href="../tidyverse.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>
<link href="../tidyverse-2.css" rel="stylesheet">

<!--optional theme-->
<link href="../.css" rel="stylesheet">




<meta property="og:title" content="Area under the receiver operator curve — roc_auc" />
<meta property="og:description" content="roc_auc() is a metric that computes the area under the ROC curve. See
roc_curve() for the full curve." />
<meta property="og:image" content="https://yardstick.tidymodels.org/logo.png" />
<meta name="twitter:card" content="summary" />


<meta name="robots" content="noindex">

<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115082821-1');
</script>

  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../index.html">yardstick</a>
        <div class="info hidden-xs hidden-sm">
          <span class="partof">part of <a href="https://tidymodels.org">tidymodels</a></span>
          <span class="version version-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.0.7.9000</span>
        </div>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/custom-metrics.html">Custom metrics</a>
    </li>
    <li>
      <a href="../articles/metric-types.html">Metric types</a>
    </li>
    <li>
      <a href="../articles/multiclass.html">Multiclass averaging</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
        <li>
  <a href="https://github.com/tidymodels/yardstick/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Area under the receiver operator curve</h1>
    <small class="dont-index">Source: <a href='https://github.com/tidymodels/yardstick/blob/master/R/prob-roc_auc.R'><code>R/prob-roc_auc.R</code></a></small>
    <div class="hidden name"><code>roc_auc.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>roc_auc()</code> is a metric that computes the area under the ROC curve. See
<code><a href='roc_curve.html'>roc_curve()</a></code> for the full curve.</p>
    </div>

    <pre class="usage"><span class='fu'>roc_auc</span><span class='op'>(</span><span class='va'>data</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for data.frame</span>
<span class='fu'>roc_auc</span><span class='op'>(</span>
  <span class='va'>data</span>,
  <span class='va'>truth</span>,
  <span class='va'>...</span>,
  options <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span>,
  estimator <span class='op'>=</span> <span class='cn'>NULL</span>,
  na_rm <span class='op'>=</span> <span class='cn'>TRUE</span>,
  event_level <span class='op'>=</span> <span class='fu'>yardstick_event_level</span><span class='op'>(</span><span class='op'>)</span>
<span class='op'>)</span>

<span class='fu'>roc_auc_vec</span><span class='op'>(</span>
  <span class='va'>truth</span>,
  <span class='va'>estimate</span>,
  options <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span>,
  estimator <span class='op'>=</span> <span class='cn'>NULL</span>,
  na_rm <span class='op'>=</span> <span class='cn'>TRUE</span>,
  event_level <span class='op'>=</span> <span class='fu'>yardstick_event_level</span><span class='op'>(</span><span class='op'>)</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>A <code>data.frame</code> containing the <code>truth</code> and <code>estimate</code>
columns.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>A set of unquoted column names or one or more
<code>dplyr</code> selector functions to choose which variables contain the
class probabilities. If <code>truth</code> is binary, only 1 column should be selected.
Otherwise, there should be as many columns as factor levels of <code>truth</code>.</p></td>
    </tr>
    <tr>
      <th>truth</th>
      <td><p>The column identifier for the true class results
(that is a <code>factor</code>). This should be an unquoted column name although
this argument is passed by expression and supports
<a href='https://rlang.r-lib.org/reference/nse-force.html'>quasiquotation</a> (you can unquote column
names). For <code>_vec()</code> functions, a <code>factor</code> vector.</p></td>
    </tr>
    <tr>
      <th>options</th>
      <td><p>A <code>list</code> of named options to pass to <code><a href='https://rdrr.io/pkg/pROC/man/roc.html'>pROC::roc()</a></code>
such as <code>smooth</code>. These options should not include <code>response</code>,
<code>predictor</code>, <code>levels</code>, <code>quiet</code>, or <code>direction</code>.</p></td>
    </tr>
    <tr>
      <th>estimator</th>
      <td><p>One of <code>"binary"</code>, <code>"hand_till"</code>, <code>"macro"</code>, or
<code>"macro_weighted"</code> to specify the type of averaging to be done. <code>"binary"</code>
is only relevant for the two class case. The others are general methods for
calculating multiclass metrics. The default will automatically choose
<code>"binary"</code> or <code>"hand_till"</code> based on <code>truth</code>.</p></td>
    </tr>
    <tr>
      <th>na_rm</th>
      <td><p>A <code>logical</code> value indicating whether <code>NA</code>
values should be stripped before the computation proceeds.</p></td>
    </tr>
    <tr>
      <th>event_level</th>
      <td><p>A single string. Either <code>"first"</code> or <code>"second"</code> to specify
which level of <code>truth</code> to consider as the "event". This argument is only
applicable when <code>estimator = "binary"</code>. The default uses an
internal helper that generally defaults to <code>"first"</code>, however, if the
deprecated global option <code>yardstick.event_first</code> is set, that will be
used instead with a warning.</p></td>
    </tr>
    <tr>
      <th>estimate</th>
      <td><p>If <code>truth</code> is binary, a numeric vector of class probabilities
corresponding to the "relevant" class. Otherwise, a matrix with as many
columns as factor levels of <code>truth</code>. <em>It is assumed that these are in the
same order as the levels of <code>truth</code>.</em></p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A <code>tibble</code> with columns <code>.metric</code>, <code>.estimator</code>,
and <code>.estimate</code> and 1 row of values.</p>
<p>For grouped data frames, the number of rows returned will be the same as
the number of groups.</p>
<p>For <code>roc_auc_vec()</code>, a single <code>numeric</code> value (or <code>NA</code>).</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The underlying <code>direction</code> option in <code><a href='https://rdrr.io/pkg/pROC/man/roc.html'>pROC::roc()</a></code> is forced to
<code>direction = "&lt;"</code>. This computes the ROC curve assuming that the <code>estimate</code>
values are the probability that the "event" occurred, which is what they
are always assumed to be in yardstick.</p>
<p>Generally, an ROC AUC value is between <code>0.5</code> and <code>1</code>, with <code>1</code> being a
perfect prediction model. If your value is between <code>0</code> and <code>0.5</code>, then
this implies that you have meaningful information in your model, but it
is being applied incorrectly because doing the opposite of what the model
predicts would result in an AUC <code>&gt;0.5</code>.</p>
    <h2 class="hasAnchor" id="relevant-level"><a class="anchor" href="#relevant-level"></a>Relevant Level</h2>

    


<p>There is no common convention on which factor level should
automatically be considered the "event" or "positive" result
when computing binary classification metrics. In <code>yardstick</code>, the default
is to use the <em>first</em> level. To alter this, change the argument
<code>event_level</code> to <code>"second"</code> to consider the <em>last</em> level of the factor the
level of interest. For multiclass extensions involving one-vs-all
comparisons (such as macro averaging), this option is ignored and
the "one" level is always the relevant result.</p>
    <h2 class="hasAnchor" id="multiclass"><a class="anchor" href="#multiclass"></a>Multiclass</h2>

    

<p>The default multiclass method for computing <code>roc_auc()</code> is to use the
method from Hand, Till, (2001). Unlike macro-averaging, this method is
insensitive to class distributions like the binary ROC AUC case.
Additionally, while other multiclass techniques will return <code>NA</code> if any
levels in <code>truth</code> occur zero times in the actual data, the Hand-Till method
will simply ignore those levels in the averaging calculation, with a warning.</p>
<p>Macro and macro-weighted averaging are still provided, even though they are
not the default. In fact, macro-weighted averaging corresponds to the same
definition of multiclass AUC given by Provost and Domingos (2001).</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Hand, Till (2001). "A Simple Generalisation of the Area Under the
ROC Curve for Multiple Class Classification Problems". <em>Machine Learning</em>.
Vol 45, Iss 2, pp 171-186.</p>
<p>Fawcett (2005). "An introduction to ROC analysis". <em>Pattern Recognition
Letters</em>. 27 (2006), pp 861-874.</p>
<p>Provost, F., Domingos, P., 2001. "Well-trained PETs: Improving probability
estimation trees", CeDER Working Paper #IS-00-04, Stern School of Business,
New York University, NY, NY 10012.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='roc_curve.html'>roc_curve()</a></code> for computing the full ROC curve.</p>
<p>Other class probability metrics: 
<code><a href='average_precision.html'>average_precision</a>()</code>,
<code><a href='gain_capture.html'>gain_capture</a>()</code>,
<code><a href='mn_log_loss.html'>mn_log_loss</a>()</code>,
<code><a href='pr_auc.html'>pr_auc</a>()</code>,
<code><a href='roc_aunp.html'>roc_aunp</a>()</code>,
<code><a href='roc_aunu.html'>roc_aunu</a>()</code></p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Max Kuhn</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># ---------------------------------------------------------------------------</span>
<span class='co'># Two class example</span>

<span class='co'># `truth` is a 2 level factor. The first level is `"Class1"`, which is the</span>
<span class='co'># "event of interest" by default in yardstick. See the Relevant Level</span>
<span class='co'># section above.</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>two_class_example</span><span class='op'>)</span>

<span class='co'># Binary metrics using class probabilities take a factor `truth` column,</span>
<span class='co'># and a single class probability column containing the probabilities of</span>
<span class='co'># the event of interest. Here, since `"Class1"` is the first level of</span>
<span class='co'># `"truth"`, it is the event of interest and we pass in probabilities for it.</span>
<span class='fu'>roc_auc</span><span class='op'>(</span><span class='va'>two_class_example</span>, <span class='va'>truth</span>, <span class='va'>Class1</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 1 x 3</span><span>
#&gt;   .metric .estimator .estimate
#&gt;   </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>   </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>          </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'>1</span><span> roc_auc binary         0.939</div><div class='input'>
<span class='co'># ---------------------------------------------------------------------------</span>
<span class='co'># Multiclass example</span>

<span class='co'># `obs` is a 4 level factor. The first level is `"VF"`, which is the</span>
<span class='co'># "event of interest" by default in yardstick. See the Relevant Level</span>
<span class='co'># section above.</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>hpc_cv</span><span class='op'>)</span>

<span class='co'># You can use the col1:colN tidyselect syntax</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://dplyr.tidyverse.org'>dplyr</a></span><span class='op'>)</span>
<span class='va'>hpc_cv</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>Resample</span> <span class='op'>==</span> <span class='st'>"Fold01"</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>roc_auc</span><span class='op'>(</span><span class='va'>obs</span>, <span class='va'>VF</span><span class='op'>:</span><span class='va'>L</span><span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 1 x 3</span><span>
#&gt;   .metric .estimator .estimate
#&gt;   </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>   </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>          </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'>1</span><span> roc_auc hand_till      0.813</div><div class='input'>
<span class='co'># Change the first level of `obs` from `"VF"` to `"M"` to alter the</span>
<span class='co'># event of interest. The class probability columns should be supplied</span>
<span class='co'># in the same order as the levels.</span>
<span class='va'>hpc_cv</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>Resample</span> <span class='op'>==</span> <span class='st'>"Fold01"</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>obs <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/relevel.html'>relevel</a></span><span class='op'>(</span><span class='va'>obs</span>, <span class='st'>"M"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>roc_auc</span><span class='op'>(</span><span class='va'>obs</span>, <span class='va'>M</span>, <span class='va'>VF</span><span class='op'>:</span><span class='va'>L</span><span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 1 x 3</span><span>
#&gt;   .metric .estimator .estimate
#&gt;   </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>   </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>          </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'>1</span><span> roc_auc hand_till      0.813</div><div class='input'>
<span class='co'># Groups are respected</span>
<span class='va'>hpc_cv</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>Resample</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>roc_auc</span><span class='op'>(</span><span class='va'>obs</span>, <span class='va'>VF</span><span class='op'>:</span><span class='va'>L</span><span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 10 x 4</span><span>
#&gt;    Resample .metric .estimator .estimate
#&gt;    </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>    </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>   </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>          </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 1</span><span> Fold01   roc_auc hand_till      0.813
#&gt; </span><span style='color: #BCBCBC;'> 2</span><span> Fold02   roc_auc hand_till      0.817
#&gt; </span><span style='color: #BCBCBC;'> 3</span><span> Fold03   roc_auc hand_till      0.869
#&gt; </span><span style='color: #BCBCBC;'> 4</span><span> Fold04   roc_auc hand_till      0.849
#&gt; </span><span style='color: #BCBCBC;'> 5</span><span> Fold05   roc_auc hand_till      0.811
#&gt; </span><span style='color: #BCBCBC;'> 6</span><span> Fold06   roc_auc hand_till      0.836
#&gt; </span><span style='color: #BCBCBC;'> 7</span><span> Fold07   roc_auc hand_till      0.825
#&gt; </span><span style='color: #BCBCBC;'> 8</span><span> Fold08   roc_auc hand_till      0.846
#&gt; </span><span style='color: #BCBCBC;'> 9</span><span> Fold09   roc_auc hand_till      0.828
#&gt; </span><span style='color: #BCBCBC;'>10</span><span> Fold10   roc_auc hand_till      0.812</div><div class='input'>
<span class='co'># Weighted macro averaging</span>
<span class='va'>hpc_cv</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>Resample</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>roc_auc</span><span class='op'>(</span><span class='va'>obs</span>, <span class='va'>VF</span><span class='op'>:</span><span class='va'>L</span>, estimator <span class='op'>=</span> <span class='st'>"macro_weighted"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 10 x 4</span><span>
#&gt;    Resample .metric .estimator     .estimate
#&gt;    </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>    </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>   </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>              </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 1</span><span> Fold01   roc_auc macro_weighted     0.880
#&gt; </span><span style='color: #BCBCBC;'> 2</span><span> Fold02   roc_auc macro_weighted     0.873
#&gt; </span><span style='color: #BCBCBC;'> 3</span><span> Fold03   roc_auc macro_weighted     0.906
#&gt; </span><span style='color: #BCBCBC;'> 4</span><span> Fold04   roc_auc macro_weighted     0.867
#&gt; </span><span style='color: #BCBCBC;'> 5</span><span> Fold05   roc_auc macro_weighted     0.866
#&gt; </span><span style='color: #BCBCBC;'> 6</span><span> Fold06   roc_auc macro_weighted     0.865
#&gt; </span><span style='color: #BCBCBC;'> 7</span><span> Fold07   roc_auc macro_weighted     0.868
#&gt; </span><span style='color: #BCBCBC;'> 8</span><span> Fold08   roc_auc macro_weighted     0.865
#&gt; </span><span style='color: #BCBCBC;'> 9</span><span> Fold09   roc_auc macro_weighted     0.841
#&gt; </span><span style='color: #BCBCBC;'>10</span><span> Fold10   roc_auc macro_weighted     0.869</div><div class='input'>
<span class='co'># Vector version</span>
<span class='co'># Supply a matrix of class probabilities</span>
<span class='va'>fold1</span> <span class='op'>&lt;-</span> <span class='va'>hpc_cv</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>Resample</span> <span class='op'>==</span> <span class='st'>"Fold01"</span><span class='op'>)</span>

<span class='fu'>roc_auc_vec</span><span class='op'>(</span>
   truth <span class='op'>=</span> <span class='va'>fold1</span><span class='op'>$</span><span class='va'>obs</span>,
   <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span>
     <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>fold1</span><span class='op'>$</span><span class='va'>VF</span>, <span class='va'>fold1</span><span class='op'>$</span><span class='cn'>F</span>, <span class='va'>fold1</span><span class='op'>$</span><span class='va'>M</span>, <span class='va'>fold1</span><span class='op'>$</span><span class='va'>L</span><span class='op'>)</span>,
     ncol <span class='op'>=</span> <span class='fl'>4</span>
   <span class='op'>)</span>
<span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 0.8131924</div><div class='input'>
<span class='co'># ---------------------------------------------------------------------------</span>
<span class='co'># Options for `pROC::roc()`</span>

<span class='co'># Pass options via a named list and not through `...`!</span>
<span class='fu'>roc_auc</span><span class='op'>(</span>
  <span class='va'>two_class_example</span>,
  truth <span class='op'>=</span> <span class='va'>truth</span>,
  <span class='va'>Class1</span>,
  options <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>smooth <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
<span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 1 x 3</span><span>
#&gt;   .metric .estimator .estimate
#&gt;   </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>   </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>          </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'>1</span><span> roc_auc binary         0.942</div><div class='input'>
</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="tidyverse">
  <p>yardstick is a part of the <strong>tidymodels</strong> ecosystem, a collection of modeling packages designed with common APIs and a shared philosophy.</p>
</div>

<div class="author">
  <p>
    Developed by Max Kuhn, Davis Vaughan.
    Site built by <a href="https://pkgdown.r-lib.org">pkgdown</a>.
  </p>
</div>

      </footer>
   </div>

  


  </body>
</html>


